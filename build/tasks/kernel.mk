ifneq ($(wildcard $(TARGET_PREBUILT_KERNEL_PATH)/Image.gz),)

PREBUILT_KERNEL_IMAGE := $(TARGET_PREBUILT_KERNEL_PATH)/Image.gz
PREBUILT_KERNEL_DTB := $(wildcard $(TARGET_PREBUILT_KERNEL_PATH)/*.dtb)

ifneq ($(PREBUILT_KERNEL_DTB),)

$(PRODUCT_OUT)/kernel: $(PREBUILT_KERNEL_IMAGE) $(PREBUILT_KERNEL_DTB)
	cat $(PREBUILT_KERNEL_IMAGE) $(PREBUILT_KERNEL_DTB) > $@

droidcore: $(PRODUCT_OUT)/kernel

endif
